<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<th:block th:insert="~{/fragment-head}"></th:block>
<!-- <th:block th:insert="~{/fragment-datatableCss}"></th:block> -->

<meta property="og:description"
	content="æ¯å¤©åˆå¤œ12é»å¿«ä¾†èªè­˜æ–°çš„æœ‹å‹å§!åœ¨é€™å€‹é é¢ä½ å¯ä»¥æŠ½å–ä¸€ä½æ–°æœ‹å‹ä»–æœƒç§€å‡ºä»–å¯æ„›çš„å¯µç‰©åªè¦é›™æ–¹åŒæ„æ¥å—é‚€è«‹ä½ å€‘å°±å¯ä»¥é–‹å§‹èŠå¤©!">
</head>
<body>
	<!-- ======= Header ======= -->
	<header class="fixed-top">
		<nav
			class="navbar navbar-expand navbar-expand-sm navbar-light bg-user">
			<div class="container-fluid">
				<div class="collapse navbar-collapse d-flex justify-content-between"
					id="navbarSupportedContent">
					<!-- Start NavBar  -->
					<!-- NavBar--LeftSide  -->
					<ul class="navbar-nav me-auto mb-2">
						<li class="nav-item d-flex align-items-center toggle-sidebar-btn">
							<i class="bi bi-list"></i> <a
							class="nav-link cancel-default-behavior" aria-current="page"
							href="#">é¸å–®</a>
						</li>
						<li class="nav-item d-flex align-items-center"><a
							class="nav-link active" aria-current="page" href="#">é›»å­å•†åŸ</a></li>
						<li class="nav-item"><a class="nav-link"
							href="seller-login.html">è³£å®¶ä¸­å¿ƒ</a></li>
						<li class="nav-item"><a class="nav-link"
							th:href="@{/article/listAll}">è«–å£‡</a></li>
					</ul>

					<!-- NavBar--RightSide  -->
					<ul class="navbar-nav ms-auto mb-2">

						<!-- æ¸¬è©¦é€²å…¥å¾Œå°å…¥å£ -->
						<li class="nav-item"><a class="nav-link active"
							aria-current="page" href="#">è¨»å†Š</a></li>
						<li class="nav-item"><a class="nav-link" href="#">ç™»å…¥</a></li>
					</ul>
				</div>
			</div>
		</nav>
		<!-- End NavBar  -->

		<!-- Start SearchBar  -->
		<div class="container-fluid bg-user search-container-custom">
			<div class="row">
				<!-- Start SearchBar-Logo  -->
				<div
					class="col-auto d-none d-lg-block logo-container-height d-flex align-items-end">
					<img th:src="@{/image/Medium.png}" class="img-logo-custom" alt=""
						srcset="" />
				</div>
				<!-- End SearchBar-Logo  -->

				<!-- Start SearchBar-Input  -->
				<div
					class="col d-flex searchItem flex-column search-item-container-custom">
					<form class="form-inline w-100" method="post"
						th:action="@{petdraw}">
						<div class="row py-2 search-row-custom w-100 pe-2">
							<div class="col">
								<input class="form-control mr-sm-2 w-100 search-input-custom"
									type="search" placeholder="è«‹åœ¨æ­¤é€²è¡Œæ–‡ç« æœç´¢" aria-label="Search"
									name="searchText" />
							</div>
							<div class="col-auto">
								<button class="btn btn-user search-button-custom d-flex"
									type="submit">
									<i class="me-2 ri-search-line"></i>
									<div class="col-auto d-none d-md-block">Search</div>
								</button>
							</div>
						</div>
					</form>
					<div class="my-2 keyword-container-custom">
						<span class="badge rounded-pill keyword-item-custom">å¯µç‰©åºŠ</span> <span
							class="badge rounded-pill keyword-item-custom">ç©å…·</span>
					</div>
				</div>
				<!-- End SearchBar-Input  -->

			</div>
		</div>
	</header>
	<!-- End NavBar  -->
	<!-- ======= Sidebar ======= -->
	<aside th:replace="front-end/article/aside-forum.html"></aside>
	<!-- ======= Main ======= -->
	<main class="main main-layout-seller">
		<div class="seller-container mt-5">
			<div class="pagetitle ">
				<p id="timer"></p>


				<form method="get" th:action="@{/front/forum/petdraw/checkpairing}"
					style="margin-bottom: 0px;" class="mt-5">
					<input type="hidden" name="memberId" value="2"> <input
						type="submit" class="modern-button" value="é…å°çµæœ">
				</form>



				<form method="post" th:action="@{/front/forum/petdraw/startpairing}"
					style="margin-bottom: 0px;" class="mt-5">
					<input type="hidden" name="memberId" value="2"> <input
						type="submit" class="modern-button" value="é–‹å§‹æŠ½å¡">
				</form>


				<form method="post" th:action="@{/front/forum/petdraw/othersparing}"
					style="margin-bottom: 0px;" class="mt-5">
					<input type="hidden" name="memberId" value="2"> <input
						type="submit" class="modern-button" value="æœ‰äººæƒ³è·Ÿä½ é…å°">
				</form>

			</div>

		</div>
	</main>
	<!-- End Main -->


	<div class="modal fade" id="errorMessageModal" tabindex="-1"
		aria-labelledby="updateSuccessModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="updateSuccessModalLabel">ç‹€æ…‹æ¶ˆæ¯</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body" id="errorMessageModalBody">ä¿®æ”¹æˆåŠŸğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-bs-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- ======= Footer ======= -->
	<footer class="footer footer-layout">
		<div
			class="row row-cols-1 row-cols-sm-2 row-cols-md-4 pt-5 border-top footer-container-custom text-white">
			<div class="col d-none d-sm-block p-sm-2 px-5 px-sm-5 px-md-0"></div>

			<div class="col p-sm-2 px-5 px-sm-5 px-md-0">
				<h5 class="mb-3">é—œæ–¼æˆ‘å€‘</h5>
				<ul class="nav flex-column">
					<li class="nav-item mb-2"><a href="#"
						class="nav-link p-0 text-body-secondary">äººæ‰æ‹›å‹Ÿ</a></li>
					<li class="nav-item mb-2"><a href="#"
						class="nav-link p-0 text-body-secondary">Eç‹—ç°¡ä»‹</a></li>
				</ul>
			</div>

			<div class="col p-sm-2 px-5 px-sm-5 px-md-0">
				<h5 class="mb-3">å¸¸è¦‹å•é¡Œ</h5>
				<ul class="nav flex-column">
					<li class="nav-item mb-2"><a href="#"
						class="nav-link p-0 text-body-secondary">è¯çµ¡Eç‹—</a></li>
					<li class="nav-item mb-2"><a href="#"
						class="nav-link p-0 text-body-secondary">Q&A</a></li>
				</ul>
			</div>
		</div>
		<div class="row footer-container-custom">
			<div class="col-3"></div>

			<div class="col-auto">
				<a href="/"
					class="d-flex align-items-center mb-3 link-body-emphasis text-decoration-none">
					<svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="bootstrap-icons.svg#heart-fill" />
                    </svg>
				</a>
				<p class="text-body-secondary">æ–°åŠ å¡å•†CatTomæœ‰é™å…¬å¸å°ç£åˆ†å…¬å¸ çµ±ä¸€ç·¨è™Ÿï¼š00000000
					Â© 2023 CatTom.ç‰ˆæ¬Šæ‰€æœ‰ã€‚</p>
			</div>
		</div>
	</footer>
	<!-- End Footer -->

	<!-- Vendor JS Files -->
	<div th:replace="~{/fragment-js}"></div>
	<div th:replace="~{/fragment-datatableJs}"></div>

	<script>
	document.addEventListener('DOMContentLoaded', function () {
	    const timerDisplay = document.getElementById('timer');

	    function updateTimer() {
	        const currentTime = new Date();
	        const nextDrawTime = new Date();

	        // å°‡ä¸‹ä¸€æ¬¡æŠ½å¡æ™‚é–“è¨­ç½®ç‚ºå°åŒ—æ™‚é–“åˆå¤œ0é»
	        if (currentTime.getUTCHours() >= 16) {
	        	 // å¦‚æœç•¶å‰UTCæ™‚é–“è¶…é16:00ï¼Œè¨­ç½®ç‚ºæ˜å¤©
	            nextDrawTime.setUTCDate(currentTime.getUTCDate() + 1);
	        }
	        // å°åŒ—åˆå¤œ0é»ç­‰æ–¼UTCçš„16:00
	        nextDrawTime.setUTCHours(16, 0, 0, 0);

	        const countdownFunc = () => {
	            const currentTime = new Date();
	            const timeDifference = nextDrawTime - currentTime;
	            if (timeDifference <= 0) {
	                clearInterval(interval);
	                timerDisplay.textContent = 'å·²åˆ°æŠ½å¡æ™‚é–“!';
	                return;
	            }

	            const hours = Math.floor((timeDifference / (1000 * 60 * 60)) % 24);
	            const minutes = Math.floor((timeDifference / (1000 * 60)) % 60);
	            const seconds = Math.floor((timeDifference / 1000) % 60);
	            timerDisplay.textContent = `åˆå¤œå€’æ•¸è¨ˆæ™‚: ${hours}æ™‚ ${minutes}åˆ† ${seconds}ç§’`;
	        };

	        countdownFunc();
	        const interval = setInterval(countdownFunc, 1000);
	    }

	    updateTimer();
	});
    </script>
    
    
    <script>
		window.onload = function() {
			// ä» URL ä¸­è§£ç å‚æ•°
			const urlParams = new URLSearchParams(window.location.search);
			const errorMessage = urlParams.get('error');

			if (errorMessage === "hasDrawn") {
				// æ˜¾ç¤ºæ¨¡æ€æ¡†
				document.getElementById("errorMessageModalBody").innerHTML = errorMessage;

				// æ£€æŸ¥æ˜¯å¦å·²ç»æ˜¾ç¤ºäº†æ¨¡æ€æ¡†
				const modalShown = sessionStorage.getItem('modalShown');
				console.log(modalShown);
				if (!modalShown) {
					$("#errorMessageModal").modal("show");
					// è®¾ç½®æ¨¡æ€æ¡†å·²æ˜¾ç¤ºçš„æ ‡å¿—
					sessionStorage.setItem('modalShown', true);
				} else {
					sessionStorage.removeItem('modalShown');
					// æ¸…é™¤ URL å‚æ•°ä»¥é˜²æ­¢åˆ·æ–°æ—¶é‡å¤æ˜¾ç¤º
					window.history.replaceState({}, document.title,
							window.location.pathname);
				}
				
			}
		};
	</script>

</body>

</html>